<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interventions · GEMS.jl</title><meta name="title" content="Interventions · GEMS.jl"/><meta property="og:title" content="Interventions · GEMS.jl"/><meta property="twitter:title" content="Interventions · GEMS.jl"/><meta name="description" content="Documentation for GEMS.jl."/><meta property="og:description" content="Documentation for GEMS.jl."/><meta property="twitter:description" content="Documentation for GEMS.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.jpeg" alt="GEMS.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GEMS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><span class="tocitem">Base Model</span><ul><li><a class="tocitem" href="../base-population/">Population</a></li><li><a class="tocitem" href="../base-contacts/">Contacts</a></li><li><a class="tocitem" href="../base-disease/">Disease</a></li><li class="is-active"><a class="tocitem" href>Interventions</a><ul class="internal"><li><a class="tocitem" href="#trism-triggers"><span>Triggers</span></a></li><li><a class="tocitem" href="#trism-strategies"><span>Strategies</span></a></li><li><a class="tocitem" href="#trism-measures"><span>Measures</span></a></li><li><a class="tocitem" href="#trism-testtypes"><span>Testtypes</span></a></li><li><a class="tocitem" href="#trism-condition-delay"><span>Conditions and Delays</span></a></li><li><a class="tocitem" href="#trism-examples"><span>Examples</span></a></li></ul></li><li><a class="tocitem" href="../base-config/">Default Parameters</a></li></ul></li><li><span class="tocitem">Running Simulations</span><ul><li><a class="tocitem" href="../tut_Intro/">Tutorials</a></li><li><a class="tocitem" href="../tut_gettingstarted/">1 - Getting Started</a></li><li><a class="tocitem" href="../tut_exploring/">2 - Exploring Models</a></li><li><a class="tocitem" href="../tut_plotting/">3 - Plotting</a></li><li><a class="tocitem" href="../tut_batches/">4 - Running Batches</a></li><li><a class="tocitem" href="../tut_pops/">5 - Creating Populations</a></li><li><a class="tocitem" href="../tut_configfiles/">6 - Advanced Parameterization</a></li><li><a class="tocitem" href="../tut_postprocessing/">7 - Logging &amp; Post-Processing</a></li><li><a class="tocitem" href="../tut_reporting/">8 - Reporting</a></li><li><a class="tocitem" href="../tut_npi/">9 - Modeling Interventions</a></li><li><a class="tocitem" href="../cheat-sheet/">Cheat Sheet</a></li></ul></li><li><a class="tocitem" href="../config-files/">Config Files</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../docstrings-overview/">Overview</a></li><li><a class="tocitem" href="../api_batch/">Batches</a></li><li><a class="tocitem" href="../api_contacts/">Contacts</a></li><li><a class="tocitem" href="../api_individuals/">Individuals</a></li><li><a class="tocitem" href="../api_infections/">Infections and Immunity</a></li><li><a class="tocitem" href="../api_interventions/">Interventions</a></li><li><a class="tocitem" href="../api_logger/">Logger</a></li><li><a class="tocitem" href="../api_mapping/">Mapping</a></li><li><a class="tocitem" href="../api_misc/">Misc</a></li><li><a class="tocitem" href="../api_movie/">Movie</a></li><li><a class="tocitem" href="../api_pathogens/">Pathogens</a></li><li><a class="tocitem" href="../api_plotting/">Plotting</a></li><li><a class="tocitem" href="../api_population/">Population</a></li><li><a class="tocitem" href="../api_postproc/">Post Processing</a></li><li><a class="tocitem" href="../api_reporting/">Reporting</a></li><li><a class="tocitem" href="../api_resultdata/">Result Data</a></li><li><a class="tocitem" href="../api_settings/">Settings</a></li><li><a class="tocitem" href="../api_simulation/">Simulation</a></li></ul></li><li><a class="tocitem" href="../contributing-guide/">Contributing to GEMS</a></li><li><a class="tocitem" href="../changelog/">Changelog</a></li><li><a class="tocitem" href="../faq-page/">FAQ</a></li><li><a class="tocitem" href="../glossary/">Glossary</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Base Model</a></li><li class="is-active"><a href>Interventions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interventions</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="trism"><a class="docs-heading-anchor" href="#trism">Base Intervention Model</a><a id="trism-1"></a><a class="docs-heading-anchor-permalink" href="#trism" title="Permalink"></a></h1><p>GEMS models non-pharmaceutical interventions (NPIs) — such as testing, isolation, or setting closures — using a <strong>conceptual framework</strong> based on the idea of <strong>Trigger → Strategy → Measure</strong>, abbreviated as <strong>TriSM</strong>.</p><p>This logic forms the foundation for how interventions are defined and applied during a simulation:  </p><ul><li><strong>Triggers</strong> determine when an intervention should be activated.  </li><li><strong>Strategies</strong> represent defined response plans that organize one or more measures.</li><li><strong>Measures</strong> implement the actual effect on the simulation.</li></ul><p>The TriSM pattern separates <em>decision-making</em> from <em>action</em>, enabling users to construct complex intervention policies without hard-coding behavior into the simulation core. Instead, users compose interventions from modular building blocks that are triggered by events or conditions during the simulation.</p><p>This page introduces the conceptual structure of TriSM. It is intended as a starting point for users who want to integrate interventions into their GEMS simulations. For hands-on examples and practical walkthroughs, see the <a href="../tut_npi/">Intervention Tutorials</a>.   For implementation details and code-level instructions, please refer to the <a href="../api_interventions/">API documentation</a>.</p><img src="../assets/TriSM-overview.png" width="100%"/><hr/><h2 id="trism-triggers"><a class="docs-heading-anchor" href="#trism-triggers">Triggers</a><a id="trism-triggers-1"></a><a class="docs-heading-anchor-permalink" href="#trism-triggers" title="Permalink"></a></h2><p>Triggers are the starting point of every intervention in GEMS. They observe the simulation and activate a response when certain conditions are met.</p><p>Triggers can be event-based — such as when an individual develops symptoms or is hospitalized — or time-based, activating at specific ticks or at regular intervals. Most triggers apply to all individuals in the simulation, while only the <code>STickTrigger</code> specifically targets individuals within a given setting, such as a school or household. Every trigger must be defined with a strategy. A trigger cannot exist on its own — it always needs to specify which strategy to activate when it fires.</p><p>In short, triggers define <em>when</em> an intervention should be considered.</p><hr/><h2 id="trism-strategies"><a class="docs-heading-anchor" href="#trism-strategies">Strategies</a><a id="trism-strategies-1"></a><a class="docs-heading-anchor-permalink" href="#trism-strategies" title="Permalink"></a></h2><p>Strategies define what kind of response should happen when a trigger fires. Conceptually, they represent <strong>intervention plans</strong> — abstract containers for one or more actions.</p><p>A strategy may contain several measures or none at all. If it has no measures, triggering it results in no change to the simulation.</p><p>Strategies can also include conditions to determine whether they should be applied in a given context (e.g., only apply to children or specific settings).</p><p>There are two kinds of strategies:</p><ul><li><strong>IStrategies</strong> apply to individuals.</li><li><strong>SStrategies</strong> apply to settings (e.g., a school or office).</li></ul><hr/><h2 id="trism-measures"><a class="docs-heading-anchor" href="#trism-measures">Measures</a><a id="trism-measures-1"></a><a class="docs-heading-anchor-permalink" href="#trism-measures" title="Permalink"></a></h2><p>Measures are the building blocks of actual intervention effects. They change how individuals or settings behave in the simulation — for example, isolating someone, testing a group, or closing a school class.</p><p>While triggers and strategies handle the <em>when</em> and <em>what kind of</em> response, measures implement the <em>how</em>. They are the only part of the TriSM structure that directly alters the simulation’s course.</p><p>Measures can be immediate, delayed, or conditional. Each measure can be configured to take effect after a fixed offset or with a delay function based on individual properties. The condition handles whether a measure should apply in a given situation, allowing interventions to target only specific individuals or settings.</p><p>Some measures can also trigger <strong>follow-up strategies</strong> — secondary intervention plans that are launched in response to the measure&#39;s outcome. For example, a positive test might result in isolating that agent.</p><p>GEMS provides a wide range of built-in measures for common interventions.  For advanced use cases, users can also define custom measures to model specific behaviors or policy effects not covered by the defaults.</p><h2 id="trism-testtypes"><a class="docs-heading-anchor" href="#trism-testtypes">Testtypes</a><a id="trism-testtypes-1"></a><a class="docs-heading-anchor-permalink" href="#trism-testtypes" title="Permalink"></a></h2><img src="../assets/TriSM-teststypes.png" width="100%"/><p>For testing measures (like individual test, pool test, or seroprevalence test), you need to specify the type of test being used. This is done by defining a Test Type. </p><p>A <strong>Test Type</strong> represents the properties of a diagnostic test (such as sensitivity and specificity). You define it once, and then you can reuse it in multiple testing measures. If you want different tests (e.g. antigen vs. PCR), you define multiple Test Types and assign them to the appropriate testing measures.</p><p>In short: the Test Type defines the diagnostic test itself, while the testing measure defines how, when, and to whom it is applied.</p><h2 id="trism-condition-delay"><a class="docs-heading-anchor" href="#trism-condition-delay">Conditions and Delays</a><a id="trism-condition-delay-1"></a><a class="docs-heading-anchor-permalink" href="#trism-condition-delay" title="Permalink"></a></h2><img src="../assets/TriSM-overview2.png" width="100%"/><p>In GEMS, measures and strategies can be extended with conditions and (for measures) offsets and delays to fine-tune their behavior:</p><ul><li><p><strong>Condition</strong>: Restricts whether a strategy or measure should be applied in a given context.   For example, you can specify that an isolation measure should only apply to students, or only to members of households with more than 4 people.</p></li><li><p><strong>Delay</strong>: Postpones the execution of a measure by a fixed time or a function of individual properties.   For example, test results might arrive later for older individuals or rural settings.</p></li><li><p><strong>Offset</strong>: A simple time shift; a measure will be applied a fixed number of ticks after the strategy is triggered.   This is useful for scheduling follow-up actions (e.g. reopen a school class 10 days after closing it).</p></li></ul><p>These extensions enable more nuanced and realistic modeling of interventions, while keeping the core logic modular and readable.</p><h2 id="trism-examples"><a class="docs-heading-anchor" href="#trism-examples">Examples</a><a id="trism-examples-1"></a><a class="docs-heading-anchor-permalink" href="#trism-examples" title="Permalink"></a></h2><p>Together, triggers, strategies, and measures form the building blocks of complex interventions.   The following examples show how common public health responses — like isolation, testing, and closures — can be constructed using the TriSM model.</p><hr/><h3 id="Example-1:-Symptom-Based-Isolation"><a class="docs-heading-anchor" href="#Example-1:-Symptom-Based-Isolation">Example 1: Symptom-Based Isolation</a><a id="Example-1:-Symptom-Based-Isolation-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1:-Symptom-Based-Isolation" title="Permalink"></a></h3><p align="center">
    <img src="../assets/TriSM-example-1.png" width="30%" />
</p><p>This example uses a symptom-based trigger to activate an individual strategy that applies a 7-day isolation measure. The code to set up this scenario is:</p><pre><code class="language-julia hljs">sim = Simulation()

# Define a strategy with a 7-day isolation measure
self_isolation = IStrategy(&quot;Self Isolation&quot;, sim)
add_measure!(self_isolation, SelfIsolation(7))

# Create a symptom trigger that activates the self-isolation strategy
trigger = SymptomTrigger(self_isolation)
add_symptom_trigger!(sim, trigger)

# Run the Simulation and get the Results
run!(sim)
rd = ResultData(sim)

# Plot the Results
gemsplot(rd, type = (:TickCases, :CumulativeDiseaseProgressions, :CumulativeIsolations))</code></pre><p align="center">
    <img src="../assets/trism-example1-plot.png" width="80%"/>
</p><p>For full instructions on setting up an isolation scenario, see the <a href="../tut_npi/#Self-Isolation-With-Symptoms">Self-Isolation With Symptoms</a> section in the tutorial.</p><hr/><h3 id="Example-2:-School-Closure"><a class="docs-heading-anchor" href="#Example-2:-School-Closure">Example 2: School Closure</a><a id="Example-2:-School-Closure-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2:-School-Closure" title="Permalink"></a></h3><p align="center">
    <img src="../assets/TriSM-example-2.png" width="50%"/>
</p><p>In this scenario, the entire school is closed starting one day after a symptomatic case is detected among its students. It reopens after a fixed closure period of 15 days.</p><pre><code class="language-julia hljs">using GEMS

sim = Simulation(population = &quot;SL&quot;, transmission_rate=0.05)

# Strategy for closing and reopening schools
school_close_and_reopen = SStrategy(&quot;School Close and Reopen&quot;, sim)
add_measure!(school_close_and_reopen, CloseSetting(), offset = 1)
add_measure!(school_close_and_reopen, OpenSetting(), offset = 15)

find_school = IStrategy(&quot;Find School&quot;, sim)
add_measure!(find_school, FindSetting(SchoolYear, school_close_and_reopen),
 condition = is_student)

trigger = SymptomTrigger(find_school)
add_symptom_trigger!(sim, trigger)

# Run the Simulation and get the Results
run!(sim)
rd = ResultData(sim)

# Plot the Results
gemsplot(rd, type = (:TickCases, :TickCasesBySetting))</code></pre><p align="center">
    <img src="../assets/trism-example2-plot.png" width="80%"/>
</p><p>For full instructions on setting up an setting closure scenario, see the <a href="../tut_npi/#Setting-Closure">Setting Closure</a> section in the tutorial.</p><hr/><h3 id="Example-3:-Weekly-School-Class-Testing-with-Reactive-Closures"><a class="docs-heading-anchor" href="#Example-3:-Weekly-School-Class-Testing-with-Reactive-Closures">Example 3: Weekly School-Class Testing with Reactive Closures</a><a id="Example-3:-Weekly-School-Class-Testing-with-Reactive-Closures-1"></a><a class="docs-heading-anchor-permalink" href="#Example-3:-Weekly-School-Class-Testing-with-Reactive-Closures" title="Permalink"></a></h3><p align="center">
    <img src="../assets/TriSM-example-3.png" width="90%"/>
</p><p>This intervention is triggered every 7 days starting at tick 20. It checks each school: if a school is open, all students in that school are tested. If any students test positive, the school is immediately closed and scheduled to reopen 10 days later. The code to set up this intervention scenario is as follows:</p><pre><code class="language-julia hljs">using GEMS

sim = Simulation(population = &quot;SL&quot;)

# Strategy for closing and reopening schools
school_close_and_reopen = SStrategy(&quot;School Close and Reopen&quot;, sim)
add_measure!(school_close_and_reopen, CloseSetting())
add_measure!(school_close_and_reopen, OpenSetting(), offset = 10)

# Strategy with test-all measure for schools
school_test_all = SStrategy(&quot;Test all in School&quot;, sim)
pcr_test = TestType(&quot;PCR Test&quot;, pathogen(sim), sim)
add_measure!(school_test_all, TestAll(&quot;PCR Test&quot;, pcr_test,
 positive_followup = school_close_and_reopen))

# Strategy to check if schools are open
school_is_open = SStrategy(&quot;School is Open?&quot;, sim)
add_measure!(school_is_open, IsOpen(positive_followup = school_test_all))

# Create a tick trigger that activates the school_is_open strategy for each School
trigger = STickTrigger(School, school_is_open, switch_tick = Int16(20), interval = Int16(7))
add_tick_trigger!(sim, trigger)

# Run the Simulation and get the Results
run!(sim)
rd = ResultData(sim)

# Plot the Results
gemsplot(rd, type = (:TickCases, :TickCasesBySetting, :TickTests))</code></pre><p align="center">
    <img src="../assets/trism-example3-plot.png" width="80%"/>
</p><p>For full instructions on setting up an setting closure scenario, see the <a href="../tut_npi/#Setting-Closure">Setting Closure</a> section in the tutorial.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../base-disease/">« Disease</a><a class="docs-footer-nextpage" href="../base-config/">Default Parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.0 on <span class="colophon-date" title="Monday 17 November 2025 09:58">Monday 17 November 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
