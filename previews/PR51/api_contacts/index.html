<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contacts · GEMS.jl</title><meta name="title" content="Contacts · GEMS.jl"/><meta property="og:title" content="Contacts · GEMS.jl"/><meta property="twitter:title" content="Contacts · GEMS.jl"/><meta name="description" content="Documentation for GEMS.jl."/><meta property="og:description" content="Documentation for GEMS.jl."/><meta property="twitter:description" content="Documentation for GEMS.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.jpeg" alt="GEMS.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GEMS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><span class="tocitem">Base Model</span><ul><li><a class="tocitem" href="../base-population/">Population</a></li><li><a class="tocitem" href="../base-contacts/">Contacts</a></li><li><a class="tocitem" href="../base-disease/">Disease</a></li><li><a class="tocitem" href="../TriSM/">Interventions</a></li><li><a class="tocitem" href="../base-config/">Default Parameters</a></li></ul></li><li><span class="tocitem">Running Simulations</span><ul><li><a class="tocitem" href="../tut_Intro/">Tutorials</a></li><li><a class="tocitem" href="../tut_gettingstarted/">1 - Getting Started</a></li><li><a class="tocitem" href="../tut_exploring/">2 - Exploring Models</a></li><li><a class="tocitem" href="../tut_plotting/">3 - Plotting</a></li><li><a class="tocitem" href="../tut_batches/">4 - Running Batches</a></li><li><a class="tocitem" href="../tut_pops/">5 - Creating Populations</a></li><li><a class="tocitem" href="../tut_configfiles/">6 - Advanced Parameterization</a></li><li><a class="tocitem" href="../tut_postprocessing/">7 - Logging &amp; Post-Processing</a></li><li><a class="tocitem" href="../tut_reporting/">8 - Reporting</a></li><li><a class="tocitem" href="../tut_npi/">9 - Modeling Interventions</a></li><li><a class="tocitem" href="../cheat-sheet/">Cheat Sheet</a></li></ul></li><li><a class="tocitem" href="../config-files/">Config Files</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../docstrings-overview/">Overview</a></li><li><a class="tocitem" href="../api_batch/">Batches</a></li><li class="is-active"><a class="tocitem" href>Contacts</a><ul class="internal"><li><a class="tocitem" href="#Overview-Structs"><span>Overview Structs</span></a></li><li><a class="tocitem" href="#Overview-Functions"><span>Overview Functions</span></a></li><li><a class="tocitem" href="#Structs"><span>Structs</span></a></li><li><a class="tocitem" href="#Constructors"><span>Constructors</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="../api_individuals/">Individuals</a></li><li><a class="tocitem" href="../api_infections/">Infections and Immunity</a></li><li><a class="tocitem" href="../api_interventions/">Interventions</a></li><li><a class="tocitem" href="../api_logger/">Logger</a></li><li><a class="tocitem" href="../api_mapping/">Mapping</a></li><li><a class="tocitem" href="../api_misc/">Misc</a></li><li><a class="tocitem" href="../api_movie/">Movie</a></li><li><a class="tocitem" href="../api_pathogens/">Pathogens</a></li><li><a class="tocitem" href="../api_plotting/">Plotting</a></li><li><a class="tocitem" href="../api_population/">Population</a></li><li><a class="tocitem" href="../api_postproc/">Post Processing</a></li><li><a class="tocitem" href="../api_reporting/">Reporting</a></li><li><a class="tocitem" href="../api_resultdata/">Result Data</a></li><li><a class="tocitem" href="../api_settings/">Settings</a></li><li><a class="tocitem" href="../api_simulation/">Simulation</a></li></ul></li><li><a class="tocitem" href="../contributing-guide/">Contributing to GEMS</a></li><li><a class="tocitem" href="../changelog/">Changelog</a></li><li><a class="tocitem" href="../faq-page/">FAQ</a></li><li><a class="tocitem" href="../glossary/">Glossary</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Contacts</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contacts</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Contacts"><a class="docs-heading-anchor" href="#Contacts">Contacts</a><a id="Contacts-1"></a><a class="docs-heading-anchor-permalink" href="#Contacts" title="Permalink"></a></h1><p>contact sampling</p><h2 id="Overview-Structs"><a class="docs-heading-anchor" href="#Overview-Structs">Overview Structs</a><a id="Overview-Structs-1"></a><a class="docs-heading-anchor-permalink" href="#Overview-Structs" title="Permalink"></a></h2><ul><li><a href="#GEMS.AgeBasedContactSampling"><code>GEMS.AgeBasedContactSampling</code></a></li><li><a href="#GEMS.AgeContactDistribution-Tuple{Vector{Int64}, Int8, Int8}"><code>GEMS.AgeContactDistribution</code></a></li><li><a href="#GEMS.AgeContactDistribution"><code>GEMS.AgeContactDistribution</code></a></li><li><a href="#GEMS.AgeGroupContactDistribution"><code>GEMS.AgeGroupContactDistribution</code></a></li><li><a href="#GEMS.AgeGroupContactDistribution-Tuple{Vector{Int64}, Tuple{Int8, Int8}, Tuple{Int8, Int8}}"><code>GEMS.AgeGroupContactDistribution</code></a></li><li><a href="#GEMS.ContactMatrix-Union{Tuple{T}, Tuple{Matrix{T}, Int64}} where T&lt;:Number"><code>GEMS.ContactMatrix</code></a></li><li><a href="#GEMS.ContactMatrix-Union{Tuple{T}, Tuple{Matrix{T}, Int64, Union{Nothing, Int64}}} where T&lt;:Number"><code>GEMS.ContactMatrix</code></a></li><li><a href="#GEMS.ContactMatrix"><code>GEMS.ContactMatrix</code></a></li><li><a href="#GEMS.ContactSamplingMethod"><code>GEMS.ContactSamplingMethod</code></a></li><li><a href="#GEMS.ContactparameterSampling"><code>GEMS.ContactparameterSampling</code></a></li><li><a href="#GEMS.RandomSampling"><code>GEMS.RandomSampling</code></a></li></ul><h2 id="Overview-Functions"><a class="docs-heading-anchor" href="#Overview-Functions">Overview Functions</a><a id="Overview-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Overview-Functions" title="Permalink"></a></h2><ul><li><a href="#GEMS.aggregate_matrix"><code>GEMS.aggregate_matrix</code></a></li><li><a href="#GEMS.aggregate_populationDF_by_age"><code>GEMS.aggregate_populationDF_by_age</code></a></li><li><a href="#GEMS.aggregated_setting_age_contacts"><code>GEMS.aggregated_setting_age_contacts</code></a></li><li><a href="#GEMS.calculate_absolute_error-Union{Tuple{T}, Tuple{Matrix{T}, Matrix{T}}} where T&lt;:Number"><code>GEMS.calculate_absolute_error</code></a></li><li><a href="#GEMS.calculate_ageGroup_contact_distribution"><code>GEMS.calculate_ageGroup_contact_distribution</code></a></li><li><a href="#GEMS.calculate_age_contact_distribution"><code>GEMS.calculate_age_contact_distribution</code></a></li><li><a href="#GEMS.calculate_zero_contact_distribution"><code>GEMS.calculate_zero_contact_distribution</code></a></li><li><a href="#GEMS.contact_samples"><code>GEMS.contact_samples</code></a></li><li><a href="#GEMS.get_ageGroup_contact_distribution"><code>GEMS.get_ageGroup_contact_distribution</code></a></li><li><a href="#GEMS.get_age_contact_distribution"><code>GEMS.get_age_contact_distribution</code></a></li><li><a href="#GEMS.get_age_contact_distribution_matrix"><code>GEMS.get_age_contact_distribution_matrix</code></a></li><li><a href="#GEMS.get_contacts"><code>GEMS.get_contacts</code></a></li><li><a href="#GEMS.mean_contacts_per_age_group"><code>GEMS.mean_contacts_per_age_group</code></a></li><li><a href="#GEMS.sample_contacts"><code>GEMS.sample_contacts</code></a></li><li><a href="#GEMS.setting_age_contacts"><code>GEMS.setting_age_contacts</code></a></li></ul><h2 id="Structs"><a class="docs-heading-anchor" href="#Structs">Structs</a><a id="Structs-1"></a><a class="docs-heading-anchor-permalink" href="#Structs" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.AgeBasedContactSampling" href="#GEMS.AgeBasedContactSampling"><code>GEMS.AgeBasedContactSampling</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AgeBasedContactSampling &lt;: ContactSamplingMethod</code></pre><p>Sample random contacts based on a Poissoin-Distribution spread around <code>contactparameter_sampling.contactparameter</code> with weighted sampling based on age distance.</p><p><strong>Parameters</strong></p><ul><li><code>contactparameter::Float64</code>: Expected value of a Poisson-Distribution used to draw the number of contacts</li><li><code>contact_matrix_file::String</code>: String path to a file with an <code>NxN</code> contact probability matrix</li><li><code>interval::Int64</code>: Year-intervals of contact matrix (e.g., 5 means, the data contains age-age-couplings for 5-year age groups)</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.AgeContactDistribution" href="#GEMS.AgeContactDistribution"><code>GEMS.AgeContactDistribution</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AgeContactDistribution</code></pre><p>Wrapper for a &#39;Age x Age Contact Distribution&#39;.</p><p><strong>Attributes</strong></p><ul><li><code>distribution_data::Vector{Int64}</code>: Vector containing the numbers of contacts from each individual of <code>ego_age</code> with individuals of age <code>contact_age</code>.</li><li><code>ego_age::Int8</code>: Age of the &quot;Ego&quot; individual.</li><li><code>contact_age::Int8</code>: Age of the &quot;Contact&quot; individual</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.AgeGroupContactDistribution" href="#GEMS.AgeGroupContactDistribution"><code>GEMS.AgeGroupContactDistribution</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AgeGroupContactDistribution</code></pre><p>Wrapper for a &#39;AgeGroup x AgeGroup Contact Distribution&#39;.</p><p><strong>Attributes</strong></p><ul><li><code>distribution_data::Vector{Int64}</code>: Vector containing the numbers of contacts from each individual of <code>ego_age_group</code> with individuals of <code>contact_age_group</code>.</li><li><code>ego_age_group::Tuple{Int8, Int8}</code>: Lower and Upper bound of the Age Group of &quot;Ego&quot; individuals. The upper bound is excluded (<code>ego_age_group=(0,5)</code> corresponds to the ages 0 till 4).</li><li><code>contact_age_group::Tuple{Int8, Int8}</code>: Lower and Upper bound of the Age Group of &quot;Contact&quot; individuals. The upper bound is excluded (<code>ego_age_group=(0,5)</code> corresponds to the ages 0 till 4).</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.ContactMatrix" href="#GEMS.ContactMatrix"><code>GEMS.ContactMatrix</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ContactMatrix{T &lt;: Number}</code></pre><p>Interface for epidemiologic contact matrices. Contact Matrices are important for simulation models of infectious diseases, as they contain information about contact behavior of individuals inside a population. Contact matrices are symmetric matrices that show the aggregated number of contacts of individuals. The aggregation of ContactMatrix in GEMS is &quot;by age&quot;. By providing <code>interval_steps</code> = 1, the matrix isn&#39;t aggregated and represents contacts between two ages.</p><p><strong>Fields</strong></p><ul><li><code>data::Matrix{T}</code>: Raw data of the contact matrix. Each cell has to represent an age group with the same step size as <code>interval_steps</code></li><li><code>interval_steps::Int64</code>: Steps size of each age group</li><li><code>aggregation_bound::Int64</code>: Maximum age up to which the contact matrix is aggregated. This is often used if the last age group is smaller than <code>interval_steps</code>. This parameter is optional.</li><li><code>_size::Int64</code>: Internal attribute. Defines the size of one matrix dimension.</li></ul><p><strong>Example</strong></p><p>In this example, we create a 3x3 matrix where each column/row represents an age group of 10 but the last age group only goes until 26 (these numbers are made up!), so we cap it at 20 (see &quot;[0-10), [10-20), 20+&quot;).</p><p>Here [1 4 7] represent age group [0-10), [2 5 8] age group [10-20) and [3 6 9] age group 20+.</p><pre><code class="language-julia-repl hljs">julia&gt; matrix = [1 2 3; 4 5 6; 7 8 9]
3×3 Matrix{Int64}:
 1  2  3
 4  5  6
 7  8  9

julia&gt; ContactMatrix{Int64}(matrix, 10, 20)
ContactMatrix{Int64}([1 2 3; 4 5 6; 7 8 9], 10, 20, 3)
</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.ContactSamplingMethod" href="#GEMS.ContactSamplingMethod"><code>GEMS.ContactSamplingMethod</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ContactSamplingMethod</code></pre><p>Supertype for all contact sampling methods. This type is intended to be extended by providing different sampling methods suitable for the structure of the simulation model.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.ContactparameterSampling" href="#GEMS.ContactparameterSampling"><code>GEMS.ContactparameterSampling</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ContactparameterSampling &lt;: ContactSamplingMethod</code></pre><p>Sample random contacts based on a Poisson-Distribution spread around <code>contactparameter</code>. If provided with no parameter, <code>0</code> contacts are assumed.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.RandomSampling" href="#GEMS.RandomSampling"><code>GEMS.RandomSampling</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RandomSampling &lt;: ContactSamplingMethod</code></pre><p>Sample exactly one contact per individual inside a Setting. The sampling will be random.</p></div></section></article><h2 id="Constructors"><a class="docs-heading-anchor" href="#Constructors">Constructors</a><a id="Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.AgeContactDistribution-Tuple{Vector{Int64}, Int8, Int8}" href="#GEMS.AgeContactDistribution-Tuple{Vector{Int64}, Int8, Int8}"><code>GEMS.AgeContactDistribution</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AgeContactDistribution(distribution_data::Vector{Int64}, ego_age::Int8, contact_age::Int8)</code></pre><p>Default constructor for <code>AgeContactDistribution</code>.</p><p><strong>Parameters</strong></p><ul><li><code>distribution_data::Vector{Int64}</code>: Vector containing the numbers of contacts from each individual of <code>ego_age</code> with individuals of age <code>contact_age</code>.</li><li><code>ego_age::Int8</code>: Age of the &quot;Ego&quot; individual.</li><li><code>contact_age::Int8</code>: Age of the &quot;Contact&quot; individual</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.AgeGroupContactDistribution-Tuple{Vector{Int64}, Tuple{Int8, Int8}, Tuple{Int8, Int8}}" href="#GEMS.AgeGroupContactDistribution-Tuple{Vector{Int64}, Tuple{Int8, Int8}, Tuple{Int8, Int8}}"><code>GEMS.AgeGroupContactDistribution</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AgeGroupContactDistribution(distribution_data::Vector{Int64}, ego_age_group::Tuple{Int8, Int8}, contact_age_group::Tuple{Int8, Int8})</code></pre><p>Default constructor for <code>AgeGroupContactDistribution</code>.</p><p><strong>Parameters</strong></p><ul><li><code>distribution_data::Vector{Int64}</code>: Vector containing the numbers of contacts from each individual of <code>ego_age_group</code> with individuals of <code>contact_age_group</code>.</li><li><code>ego_age_group::Tuple{Int8, Int8}</code>: Lower and Upper bound of the Age Group of &quot;Ego&quot; individuals. The upper bound is excluded (<code>ego_age_group=(0,5)</code> corresponds to the ages 0 till 4).</li><li><code>contact_age_group::Tuple{Int8, Int8}</code>: Lower and Upper bound of the Age Group of &quot;Contact&quot; individuals. The upper bound is excluded (<code>contact_age_group=(0,5)</code> corresponds to the ages 0 till 4).</li></ul></div></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.aggregate_matrix" href="#GEMS.aggregate_matrix"><code>GEMS.aggregate_matrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">aggregate_matrix(matrix::Matrix, interval_steps::Int64)</code></pre><p>Calculate an aggregated matrix by providing the length of the interval to aggregate. Each interval will have the same length. If the dimension of the given matrix isn&#39;t divisible by <code>interval_steps</code>, the last interval will contain the rest of the values (this causes the last interval to be shorter than every other interval).</p><p><strong>Assumptions:</strong></p><ul><li>The input matrix has to be of shape n x n, where n is an Int64.</li></ul><p><strong>Example:</strong></p><pre><code class="language-julia hljs">julia&gt; matrix = [1 1  2 2 3 ; 1 1  2 2 3 ; 3 3 4 4 3; 3 3 4 4 3; 3 3 3 3 3]
5×5 Matrix{Int64}:
 1  1  2  2  3
 1  1  2  2  3
 3  3  4  4  3
 3  3  4  4  3
 3  3  3  3  3

julia&gt; aggregate_matrix(matrix,2) # intervals would be [1:3), [3:5), [5:5]
3×3 Matrix{Int64}:
  4   8  6
 12  16  6
  6   6  3
</code></pre></div></section><section><div><pre><code class="language-julia hljs">aggregate_matrix(vector::Vector, interval_steps::Int64)::Matrix</code></pre><p>Aggregate values in a Vector by a given interval (defined by <code>interval_steps</code>). If the dimension of the given Vector isn&#39;t divisible by <code>interval_steps</code>, the last interval will contain the rest of the values (this causes the last interval to be shorter than every other interval).</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; vector = [1, 1, 8, 5, 3]
5-element Vector{Int64}:
 1
 1
 8
 5
 3

# intervals would be [1:3), [3:5), [5:5]
julia&gt; aggregate_matrix(vector,2)
3×1 Matrix{Int64}:
  2
 13
  3
</code></pre></div></section><section><div><pre><code class="language-julia hljs">aggregate_matrix(matrix::Matrix, interval_steps::Int64, aggregation_bound::Int64)</code></pre><p>Aggregate values in a matrix by a given interval (defined by <code>interval_steps</code>). <code>aggregation_bound</code> sets a upper boundary. In the interval [1:<code>aggregation_bound</code>), values are aggregated in sub-intervals defined by <code>interval_steps</code>. In the interval [<code>aggregation_bound</code>:length(matrix[1,:])] all values will be summed up.</p><p><strong>Assumptions:</strong></p><ul><li>The input matrix has to be of shape n x n, where n is an Int64.</li></ul><p><strong>Example:</strong></p><pre><code class="language-julia hljs">julia&gt; matrix = [1 1  2 2 3 ; 1 1  2 2 3 ; 3 3 4 4 3; 3 3 4 4 3; 3 3 3 3 3]
5×5 Matrix{Int64}:
 1  1  2  2  3
 1  1  2  2  3
 3  3  4  4  3
 3  3  4  4  3
 3  3  3  3  3

# intervals would be [1:3), 3+
julia&gt; aggregate_matrix(matrix, 2, 3)
2×2 Matrix{Int64}:
  4  14
 18  31
</code></pre></div></section><section><div><pre><code class="language-julia hljs">aggregate_matrix(vector::Vector, interval_steps::Int64, aggregation_bound::Int64)::Matrix</code></pre><p>Aggregate values in a Vector by a given interval (defined by <code>interval_steps</code>). <code>aggregation_bound</code> sets a upper boundary. In the interval [1:<code>aggregation_bound</code>), values are aggregated in sub-intervals, defined by <code>interval_steps</code>. In the interval [<code>aggregation_bound</code>:length(vector)] all values will be summed up.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; vector = [1, 1, 8, 5, 3, 5, 8, 7 ,9]
9-element Vector{Int64}:
 1
 1
 8
 5
 3
 5
 8
 7
 9

# intervals would be [1:3), [3:5), 5+
julia&gt; aggregate_matrix(vector, 2, 5)
3×1 Matrix{Int64}:
  2
 13
 32
</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.aggregate_populationDF_by_age" href="#GEMS.aggregate_populationDF_by_age"><code>GEMS.aggregate_populationDF_by_age</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">aggregate_populationDF_by_age(population_df::DataFrame, interval_steps::Int64)::Matrix</code></pre><p>Helper function (it&#39;s not intended for direct use, its&#39;s rather called by other functions), to aggregate a populationDF by age. <code>interval_steps</code> describes the size of each age group to aggregate.  The aggregated populationDF will be returned as a <code>Matrix</code>.</p></div></section><section><div><pre><code class="language-julia hljs">aggregate_populationDF_by_age(population_df::DataFrame, interval_steps::Int64, max_age::Int64)::Vector</code></pre><p>Helper function (it&#39;s not intended for direct use, its&#39;s rather called by other functions, to aggregate a populationDF by age. <code>interval_steps</code> describes the size of each age group to aggregate.  <code>max_age</code> sets a maximum age until which the matrix should be aggregated.</p><p><strong>Returns</strong></p><p>The aggregated populationDF will be returned as a <code>Matrix</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.aggregated_setting_age_contacts" href="#GEMS.aggregated_setting_age_contacts"><code>GEMS.aggregated_setting_age_contacts</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">aggregated_setting_age_contacts(rd::ResultData)</code></pre><p>Returns an age group X age group contact matrix for the specified <code>settingtype</code> (e.g. Households) based on sampled data Returns an empty dictionary if the data is not available in the input <code>ResultData</code> object.</p></div></section><section><div><pre><code class="language-julia hljs">aggregated_setting_age_contacts(rd::ResultData, settingtype::DataType)</code></pre><p>Returns an age group X age group contact matrix for the specified <code>settingtype</code> (e.g. Households) based on sampled data Returns an empty dictionary if the data is not available in the input <code>ResultData</code> object.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.calculate_absolute_error-Union{Tuple{T}, Tuple{Matrix{T}, Matrix{T}}} where T&lt;:Number" href="#GEMS.calculate_absolute_error-Union{Tuple{T}, Tuple{Matrix{T}, Matrix{T}}} where T&lt;:Number"><code>GEMS.calculate_absolute_error</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calculate_absolute_error(matrix1::Matrix{T}, matrix2::Matrix{T})::Matrix{T} where T &lt;: Number</code></pre><p>Calculate the absolute difference between <code>matrix1</code> and <code>matrix2</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; m1 = [2 2; 2 2]
2×2 Matrix{Int64}:
 2  2
 2  2

julia&gt; m2 = [3 1; 4 2]
2×2 Matrix{Int64}:
3  1
4  2

calculate_absolute_error(m1,m2)
2×2 Matrix{Int64}:
 1  1
 2  0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.calculate_ageGroup_contact_distribution" href="#GEMS.calculate_ageGroup_contact_distribution"><code>GEMS.calculate_ageGroup_contact_distribution</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Utitility function. Calculates the number of contacts an individuals in the age group <code>ego_age_group</code> have with individuals in the age group <code>contact_age_group</code>. Each entry is the number of contacts one individual in the age group <code>ego_age_group</code> has with individuals in the age group <code>contact_age_group</code>.</p><p><strong>Parameters</strong></p><ul><li><code>contactdata</code>: DataFrame containing data about contacts between an &#39;ego&#39; and a &#39;contact&#39;.</li><li><code>ego_age_group::Tuple{Int,Int}</code>: Defines the age interval that should be aggregated for the &quot;ego age group&quot;. The upper age bound (the second entry of the Tuple) will be excluded like &quot;[ego<em>lower</em>bound, ego<em>upper</em>bound)&quot;</li><li><code>contact_age_group::Tuple{Int,Int}</code>: Defines the age interval that should be aggregated for the &quot;contact age group&quot;. The upper age bound (the second entry of the Tuple) will be excluded like &quot;[contact<em>lower</em>bound, contact<em>upper</em>bound)&quot;</li><li><code>ego_id_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s id.</li><li><code>ego_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s age.</li><li><code>contact_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each contact&#39;s age.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.calculate_age_contact_distribution" href="#GEMS.calculate_age_contact_distribution"><code>GEMS.calculate_age_contact_distribution</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Utitility function. Calculates the number of contacts an individual of age <code>ego_age</code> has with an individual of age <code>contact_age</code>. Each entry is the number of contacts one individual of age <code>ego_age</code> has.</p><p><strong>Parameters</strong></p><ul><li><code>contactdata</code>: DataFrame containing data about contacts between an &#39;ego&#39; and a &#39;contact&#39;.</li><li><code>ego_age</code>: Age of the &#39;Ego&#39;, that should be included in this distribution.</li><li><code>contact_age</code>: Age of the &#39;Contact&#39;, that should be included in this distribution.  </li><li><code>ego_id_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s id.</li><li><code>ego_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s age.</li><li><code>contact_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each contact&#39;s age.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.calculate_zero_contact_distribution" href="#GEMS.calculate_zero_contact_distribution"><code>GEMS.calculate_zero_contact_distribution</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Utitility function. Get how many individuals of a specific age have no contact. An Individiual with no contact, has an entry in <code>contactdata</code> where the columns for data about the contact are &quot;-1&quot;.</p><p><strong>Parameters</strong></p><ul><li><code>contactdata</code>: DataFrame containing data about contacts between an &#39;ego&#39; and a &#39;contact&#39;.</li><li><code>ego_age</code>: Age of the &#39;Ego&#39;, that should be included in this distribution.</li><li><code>ego_id_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s id.</li><li><code>ego_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s age.</li><li><code>contact_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each contact&#39;s age.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.ContactMatrix-Union{Tuple{T}, Tuple{Matrix{T}, Int64, Union{Nothing, Int64}}} where T&lt;:Number" href="#GEMS.ContactMatrix-Union{Tuple{T}, Tuple{Matrix{T}, Int64, Union{Nothing, Int64}}} where T&lt;:Number"><code>GEMS.ContactMatrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ContactMatrix{T}(data::Matrix{T}, interval_steps::Int64, aggregation_bound::Union{Int64, Nothing}) where T &lt;: Number</code></pre><p>Create a ContactMatrix with <code>interval_steps</code> and <code>aggregation_bound</code>. <code>_size</code> will be derived from <code>data</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.ContactMatrix-Union{Tuple{T}, Tuple{Matrix{T}, Int64}} where T&lt;:Number" href="#GEMS.ContactMatrix-Union{Tuple{T}, Tuple{Matrix{T}, Int64}} where T&lt;:Number"><code>GEMS.ContactMatrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ContactMatrix{T}(data::Matrix{T}, interval_steps::Int64) where T &lt;: Number</code></pre><p>Create a ContactMatrix with <code>interval_steps</code>. <code>_size</code> will be derived from <code>data</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.contact_samples" href="#GEMS.contact_samples"><code>GEMS.contact_samples</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">contact_samples(simulation::Simulation, settingtype::DataType, include_non_contacts::Bool)::DataFrame</code></pre><p>Returns a dataframe with data on two individuals per row (contact). The contacts are sampled for a provided setting type according to the  <code>ContactSamplingMethod</code> of the desired setting. This also defines, how many contacts will be sampled per individual. If <code>include_non_contacts</code> is <code>true</code>, also the number of &quot;non-contacts&quot; (individuals for which the number of sampled contacts is zero) will be included in this dataframe. In this case, <code>b_id</code>, <code>b_age</code> and <code>b_sex</code> will have the value <code>-1</code>. The number of sampled contacts is limited by the global <code>CONTACT_SAMPLES</code> flag in the constants.jl file. It default is <code>100_000</code>. If you need more samples, change the flag using <code>GEMS.CONTACT_SAMPLES</code> = <code>your_new_int_value</code>.</p><p><strong>Columns</strong></p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>a_id</code></td><td style="text-align: left"><code>Int32</code></td><td style="text-align: left">Ego id</td></tr><tr><td style="text-align: left"><code>a_age</code></td><td style="text-align: left"><code>Int8</code></td><td style="text-align: left">Ego age</td></tr><tr><td style="text-align: left"><code>a_sex</code></td><td style="text-align: left"><code>Int8</code></td><td style="text-align: left">Ego sex</td></tr><tr><td style="text-align: left"><code>b_id</code></td><td style="text-align: left"><code>Int32</code></td><td style="text-align: left">Contact id</td></tr><tr><td style="text-align: left"><code>b_age</code></td><td style="text-align: left"><code>Int8</code></td><td style="text-align: left">Contact age</td></tr><tr><td style="text-align: left"><code>b_sex</code></td><td style="text-align: left"><code>Int8</code></td><td style="text-align: left">Contact sex</td></tr><tr><td style="text-align: left"><code>setting_type</code></td><td style="text-align: left"><code>Char</code></td><td style="text-align: left">Setting, in which the contact occured</td></tr></table><p><strong>Returns</strong></p><p>Dataframe containing the sampled contacts for the given settingstype. </p><p>If no settings exist for <code>settingtype</code>, an empty DataFrame with the Columns defined above is returned.</p><p>If no contacts are sampled in <code>GEMS.CONTACT_SAMPLES</code> many iterations, an empty DataFrame with the Columns defined above is returned.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.get_ageGroup_contact_distribution" href="#GEMS.get_ageGroup_contact_distribution"><code>GEMS.get_ageGroup_contact_distribution</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_ageGroup_contact_distribution(contact_distribution_matrix::Matrix{AgeContactDistribution}; ego_age_group::Tuple{Int,Int}, contact_age_group::Tuple{Int,Int})::AgeGroupContactDistribution</code></pre><p>Aggregates a number of &#39;Age x Age Contact Distribution&#39;s to one new &#39;AgeGroup x AgeGroup Contact Distribution&#39;.</p><p><strong>Parameters</strong></p><ul><li><code>contact_distribution_matrix::Matrix</code>: Contains &quot;Age x Age Contact Distributions&quot;.</li><li><code>ego_age_group::Tuple{Int,Int}</code>: Defines the age interval that should be aggregated for the &quot;ego age group&quot;. The upper age bound (the second entry of the Tuple) will be excluded like &quot;[<code>ego_lower_bound</code>, <code>ego_upper_bound</code>)&quot;</li><li><code>contact_age_group::Tuple{Int,Int}</code>: Defines the age interval that should be aggregated for the &quot;contact age group&quot;. The upper age bound (the second entry of the Tuple) will be excluded like &quot;[<code>contact_lower_bound</code>, <code>contact_upper_bound</code>)&quot;</li></ul><p><strong>Returns</strong></p><p>&#39;AgeGroup x AgeGroup Contact Distribution&#39;</p></div></section><section><div><pre><code class="language-julia hljs">get_ageGroup_contact_distribution(contactdata::DataFrame; ego_age_group::Tuple{Int,Int}, contact_age_group::Tuple{Int,Int}, ego_id_column::Int64, ego_age_column::Int64, contact_age_column::Int64)::AgeGroupContactDistribution</code></pre><p>Calculate a &#39;AgeGroup x AgeGroup&#39; contact distribution for two given age groups defined by <code>ego_age_group</code> and <code>contact_age_group</code>. The correct columns of the input dataframes can be defined by <code>ego_id_column</code>, <code>ego_age_column</code> and <code>contact_age_column</code>.</p><p>The dataframe must contain data of a (artificial) contact survey, where each row represents a contact between two individuals.</p><p><strong>Parameters</strong></p><ul><li><code>contactdata</code>: DataFrame containing data about contacts between a &#39;ego&#39; and &#39;contacts&#39;.</li><li><code>ego_age_group::Tuple{Int,Int}</code>: Defines the age interval that should be aggregated for the &quot;ego age group&quot;. The upper age bound (the second entry of the Tuple) will be excluded like &quot;[<code>ego_lower_bound</code>, <code>ego_upper_bound</code>)&quot;</li><li><code>contact_age_group::Tuple{Int,Int}</code>: Defines the age interval that should be aggregated for the &quot;contact age group&quot;. The upper age bound (the second entry of the Tuple) will be excluded like &quot;[<code>contact_lower_bound</code>, <code>contact_upper_bound</code>)&quot;</li><li><code>ego_id_column::Int64</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s id.</li><li><code>ego_age_column::Int64</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s age.</li><li><code>contact_age_column::Int64</code>: Index indicating which column of <code>contactdata</code> stores information about each contact&#39;s age.</li></ul><p><strong>Returns</strong></p><p>&#39;AgeGroup x AgeGroup Contact Distribution&#39;</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.get_age_contact_distribution" href="#GEMS.get_age_contact_distribution"><code>GEMS.get_age_contact_distribution</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_age_contact_distribution(contactdata::DataFrame; ego_age::Int64, contact_age::Int64, ego_id_column::Int64, ego_age_column::Int64, contact_age_column::Int64)::AgeContactDistribution</code></pre><p>Calculate a &#39;Age x Age&#39; contact distribution for two given ages defined by <code>ego_age</code> and <code>contact_age</code>. The correct columns of the input dataframes can be defined by <code>ego_id_column</code>, <code>ego_age_column</code> and <code>contact_age_column</code>.</p><p>The dataframe must contain data of a (artificial) contact survey, where each row represents a contact between two individuals.</p><p><strong>Parameters</strong></p><ul><li><code>contactdata</code>: DataFrame containing data about contacts between an &#39;ego&#39; and a &#39;contact&#39;.</li><li><code>ego_age</code>: Age of the &#39;Ego&#39;, that should be included in this distribution.</li><li><code>contact_age</code>: Age of the &#39;Contact&#39;, that should be included in this distribution.  </li><li><code>ego_id_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s id.</li><li><code>ego_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each ego&#39;s age.</li><li><code>contact_age_column</code>: Index indicating which column of <code>contactdata</code> stores information about each contact&#39;s age.</li></ul><p><strong>Returns</strong></p><p>A Distribution of contacts between individuals of age &quot;Ego Age&quot; and &quot;Contact Age&quot;</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.get_age_contact_distribution_matrix" href="#GEMS.get_age_contact_distribution_matrix"><code>GEMS.get_age_contact_distribution_matrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_age_contact_distribution_matrix(contactdata::DataFrame)::Matrix{AgeContactDistribution}</code></pre><p>Create a matrix of contact distributions between individuals of two ages until a given maximum age <code>maxage</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.get_contacts" href="#GEMS.get_contacts"><code>GEMS.get_contacts</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_contacts(contact_matrix::ContactMatrix{T}, individual::Individual)::T where T &lt;: Number</code></pre><p>Get the number of contacts an Individual has, based on its age and an associated contact matrix containing the numbers of contacts per age group.</p><p>The number of contacts is based on a vector of contacts an individual of the age group of individual would have. The concrete number of contacts is then derived by taking the mean of this vector.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.mean_contacts_per_age_group" href="#GEMS.mean_contacts_per_age_group"><code>GEMS.mean_contacts_per_age_group</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mean_contacts_per_age_group(post_processor::PostProcessor, settingtype::DataType, interval_steps::Int64)::ContactMatrix{Float64}</code></pre><p>Calculates the mean number of contacts between two age groups. The age gropus are defined by the size of <code>interval_steps</code>. The population data is accessed via the postProcessor object to get the number of individuals per age group.</p><p><strong>Returns</strong></p><p>Returns a ContactMatrix object containing the calculated mean contacts per age group and the interval steps.</p></div></section><section><div><pre><code class="language-julia hljs">mean_contacts_per_age_group(post_processor::PostProcessor, settingtype::DataType, interval_steps::Int64, max_age::Int64)::ContactMatrix{Float64}</code></pre><p>Calculates the mean number of contacts between two age groups. The age gropus are defined by the size of <code>interval_steps</code>. The population data is accessed via the postProcessor object to get the number of individuals per age group.</p><p><code>max_age</code> sets a maximum age until which the matrix should be aggregated.</p><p><strong>Returns</strong></p><p>Returns a ContactMatrix object containing the calculated mean contacts per age group and the interval steps and max age for aggregation.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.sample_contacts" href="#GEMS.sample_contacts"><code>GEMS.sample_contacts</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_contacts(contact_sampling_method::ContactSamplingMethod, setting::Setting, individual::Individual, tick::Int16; rng::AbstractRNG = Random.default_rng())::ErrorException</code></pre><p>Abstract function as Fallback if no specific method is available.</p></div></section><section><div><pre><code class="language-julia hljs">sample_contacts(random_sampling_method::RandomSampling, setting::Setting, individual::Individual, tick::Int16)::Vector{Individual}</code></pre><p>Sample exactly 1 random contact from the individuals in <code>setting</code>.</p></div></section><section><div><pre><code class="language-julia hljs">sample_contacts(contactparameter_sampling::ContactparameterSampling, setting::Setting, individual::Individual, tick::Int16)::Vector{Individual}</code></pre><p>Sample random contacts based on a Poisson-Distribution spread around <code>contactparameter_sampling.contactparameter</code>. The <code>replace</code> parameter determines whether contacts are sampled with replacement (<code>true</code>) or without replacement (<code>false</code>).</p></div></section><section><div><pre><code class="language-julia hljs">sample_contacts(contactparameter_sampling::ContactAgeBasedparameterSampling, setting::Setting, individual::Individual, tick::Int16)::Vector{Individual}</code></pre><p>Sample random contacts based on a spread around <code>contactparameter_sampling.contactparameter</code> with weighted sampling based on age distance. We sample according to formula pi = e * wi * qi * mi / N where e - expected number of contacts, wi - normalization factor, qi - age group probability based on the age pyramid, mi - mixing factor between age groups, N - number of agents Normalization factor is required to normalize the sampling ditribution in order to get expected number of contacts in the end. We use two fold approach. Firstly, we sample uniformly with probability pi = e * wi * qi * m<em>max / N m</em>max - maximal mixing factor between age groups Secondly, we sample with adapted probability mi = mi / m_max</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GEMS.setting_age_contacts" href="#GEMS.setting_age_contacts"><code>GEMS.setting_age_contacts</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setting_age_contacts(postProcessor::PostProcessor, settingtype::DataType)</code></pre><p>Returns an age X age matrix containing sampled contacts for a provided <code>settingtype</code> (i.e. Households)</p><p><strong>Returns</strong></p><ul><li><code>Matrix{Int32}</code>: Sampled contacts in age-age matrix</li></ul></div></section><section><div><pre><code class="language-julia hljs">setting_age_contacts(rd::ResultData)</code></pre><p>Returns the setting<em>age</em>contacts dictionary from the ResultData object. Returns an empty dictionary if the data is not available in the input <code>ResultData</code> object.</p></div></section><section><div><pre><code class="language-julia hljs">setting_age_contacts(rd::ResultData, settingtype::DataType)</code></pre><p>Returns an age X age contact matrix for the specified <code>settingtype</code> (e.g. Households) based on sampled data. Returns an empty dictionary if the data is not available in the input <code>ResultData</code> object.</p></div></section><section><div><pre><code class="language-julia hljs">setting_age_contacts(batchProcessor::BatchProcessor, settingtype::DataType)</code></pre><p>Returns a <code>{String, DataFrame}</code> dictionary containing an age X age matrix with sampled contacts for a provided <code>settingtype</code> (i.e. Households) for each population files of this batch. </p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api_batch/">« Batches</a><a class="docs-footer-nextpage" href="../api_individuals/">Individuals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Wednesday 5 November 2025 13:55">Wednesday 5 November 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
